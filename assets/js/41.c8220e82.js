(window.webpackJsonp=window.webpackJsonp||[]).push([[41,74,75],{452:function(t,e,n){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="1c25")}({"1c25":function(t,e,n){"use strict";var r;(n.r(e),"undefined"!=typeof window)&&(n("4141"),(r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=r[1]));var a=n("1d41");var i=function(t,e,n,r,a,i,o,s){var c,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),o?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},u._ssrRegister=c):a&&(c=s?function(){a.call(this,this.$root.$options.shadowRoot)}:a),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(t,e){return c.call(e),l(t,e)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:u}}({name:"TeacherPlacemap",props:{gender:{default:"FEMALE",validator:t=>["MALE","FEMALE"].includes(t)},status:{type:Boolean,default:!1}},data(){return{teacherGender:this.gender,onlineStatus:this.status}},components:{SvgIcon:n.n(a).a},computed:{iconName(){return`${"FEMALE"===this.teacherGender?"women":"man"}${!0===this.onlineStatus?"Online":"Offline"}`}},watch:{gender(t){this.teacherGender!==t&&(this.teacherGender=t)},status(t){this.onlineStatus!==t&&(this.onlineStatus=t)}}},(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"teacher-placemap-container"},[e("div",{staticClass:"teacher-placemap"},[e("SvgIcon",{attrs:{iconClass:this.iconName}})],1)])}),[],!1,null,null,null).exports;i.install=function(t){t.component(i.name,i)};var o=i;e.default=o},"1d41":function(t,e){t.exports=n(222)},4141:function(t,e){!function(t){var e=t.getElementsByTagName("script");"currentScript"in t||Object.defineProperty(t,"currentScript",{get:function(){try{throw new Error}catch(r){var t,n=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(r.stack)||[!1])[1];for(t in e)if(e[t].src==n||"interactive"==e[t].readyState)return e[t];return null}}})}(document)}})},453:function(t,e){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="1c25")}({"1c25":function(t,e,n){"use strict";var r;(n.r(e),"undefined"!=typeof window)&&(n("4141"),(r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=r[1]));var a=function(t,e,n,r,a,i,o,s){var c,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),o?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},u._ssrRegister=c):a&&(c=s?function(){a.call(this,this.$root.$options.shadowRoot)}:a),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(t,e){return c.call(e),l(t,e)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:u}}({name:"TeacherStatus",props:{status:{type:Boolean,default:!0}}},(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"teacher-status-container"},[e("div",{staticClass:"teacher-status-point"},[e("span",{staticClass:"status-point",class:{online:this.status}}),e("span",[this._v("REC")])])])}),[],!1,null,null,null).exports;a.install=function(t){t.component(a.name,a)};var i=a;e.default=i},4141:function(t,e){!function(t){var e=t.getElementsByTagName("script");"currentScript"in t||Object.defineProperty(t,"currentScript",{get:function(){try{throw new Error}catch(r){var t,n=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(r.stack)||[!1])[1];for(t in e)if(e[t].src==n||"interactive"==e[t].readyState)return e[t];return null}}})}(document)}})},547:function(t,e,n){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="1c25")}({"1c25":function(t,e,n){"use strict";var r;(n.r(e),"undefined"!=typeof window)&&(n("4141"),(r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=r[1]));var a=n("99d0"),i=n.n(a),o=n("ed46"),s=n.n(o),c=n("9448"),u=n.n(c),l=n("3458"),d=n.n(l);var f=function(t,e,n,r,a,i,o,s){var c,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),o?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},u._ssrRegister=c):a&&(c=s?function(){a.call(this,this.$root.$options.shadowRoot)}:a),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(t,e){return c.call(e),l(t,e)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:u}}({name:"TeacherPanel",props:{userVideoStreamStatus:{type:Object,default:()=>{}},gender:{type:String,default:"FEMALE",validator:t=>["FEMALE","MALE"].indexOf(t)>-1},teacherId:{type:Number,default:0},cameraId:String,onlineStatus:{type:Boolean,default:!0},cameraStatus:{type:Boolean,default:!1},voiceStatus:{type:Boolean,default:!1},screenStatus:{type:Boolean,default:!1},giftNums:{type:Number,default:0}},data(){return{teacherGender:this.gender,onlineState:this.onlineStatus,cameraState:this.cameraStatus,voiceState:this.voiceStatus,screenState:this.screenStatus,giftNum:this.giftNums>0?this.giftNums:0,lottieInstance:null,teacherVideoEl:null}},mounted(){this.teacherVideoEl=this.$refs.teacherVideoEl,this.initLottie(),this.cameraState&&this.handleToggleCamera(this.cameraState),this.voiceState&&this.handleToggleVoice(this.voiceState),this.screenState&&this.handleToggleScreen(this.screenState)},computed:{videoStreamStatus(){return!!this.userVideoStreamStatus[this.teacherId]}},components:{TeacherPlacemap:s.a,TeacherStatus:u.a,TButton:d.a},methods:{startAnimation(){this.lottieInstance&&this.lottieInstance.play()},pauseLottie(){this.lottieInstance&&this.lottieInstance.stop()},initLottie(){const t=this.$refs.gift;this.lottieInstance=i.a.loadAnimation({container:t,renderer:"svg",loop:!0,autoplay:!1,path:"https://openclass-cdn.vipkid.com.cn/private-class/animation/gift/data.json",rendererSettings:{preserveAspectRatio:"xMinYMid meet",progressiveLoad:!1,hideOnTransparent:!0}}),this.lottieInstance.removeEventListener("loopComplete",this.pauseLottie),this.lottieInstance.addEventListener("loopComplete",this.pauseLottie)},toggleCamera(){this.cameraState=!this.cameraState},toggleVoice(){this.voiceState=!this.voiceState},toggleScreen(){this.screenState=!this.screenState},handleToggleCamera(t){this.$emit("toggleCamera",t,{uid:this.teacherId,target:this.teacherVideoEl})},handleToggleVoice(t){this.$emit("toggleVoice",t)},handleToggleScreen(t){this.$emit("toggleScreen",t)}},watch:{cameraId(){this.cameraState&&this.handleToggleCamera(this.cameraState)},gender(t){this.teacherGender!==t&&(this.teacherGender=t)},onlineStatus(t){this.onlineState!==t&&(this.onlineState=t)},cameraStatus(t){this.cameraState!==t&&(this.cameraState=t)},voiceStatus(t){this.voiceState!==t&&(this.voiceState=t)},screenStatus(t){this.screenState!==t&&(this.screenState=t)},cameraState(t){this.handleToggleCamera(t)},voiceState(t){this.handleToggleVoice(t)},screenState(t){this.handleToggleScreen(t)},giftNums(t){this.giftNum!==t&&t>=0&&(this.giftNum=t)},giftNum(){this.startAnimation()}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"teacher-panel-container"},[n("div",{staticClass:"teacher-panel-bd"},[n("div",{ref:"teacherVideoEl",staticClass:"teacher-video-container"}),n("transition",{attrs:{name:"fade"}},[n("TeacherPlacemap",{directives:[{name:"show",rawName:"v-show",value:!t.cameraState||t.videoStreamStatus,expression:"!cameraState || videoStreamStatus"}],attrs:{gender:t.teacherGender,status:t.onlineState}})],1)],1),n("div",{staticClass:"teacher-panel-hd"},[n("TeacherStatus",{attrs:{status:t.onlineState}})],1),n("div",{staticClass:"teacher-panel-ft"},[n("div",{staticClass:"ft-lf"},[n("TButton",{attrs:{flat:"",type:"text",status:t.cameraState,icon:"camera"},on:{click:t.toggleCamera}}),n("TButton",{attrs:{flat:"",type:"text",status:t.voiceState,icon:"voice"},on:{click:t.toggleVoice}}),n("TButton",{attrs:{flat:"",type:"text",status:t.screenState,icon:"screen"},on:{click:t.toggleScreen}})],1),n("TButton",{attrs:{flat:"",type:"text",icon:"gift"}},[t._v(t._s(t.giftNum))]),n("div",{ref:"gift",staticClass:"gift-lottie"})],1)])}),[],!1,null,null,null).exports;f.install=function(t){t.component(f.name,f)};var p=f;e.default=p},3458:function(t,e){t.exports=n(205)},4141:function(t,e){!function(t){var e=t.getElementsByTagName("script");"currentScript"in t||Object.defineProperty(t,"currentScript",{get:function(){try{throw new Error}catch(r){var t,n=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(r.stack)||[!1])[1];for(t in e)if(e[t].src==n||"interactive"==e[t].readyState)return e[t];return null}}})}(document)},9448:function(t,e){t.exports=n(453)},"99d0":function(t,e){t.exports=n(302)},ed46:function(t,e){t.exports=n(452)}})}}]);